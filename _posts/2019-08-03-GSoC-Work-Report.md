---
layout: post
title:  "GSoC Work Report"
date:   2019-08-03
desc: "Project and implementation details"
keywords: "Ruturaj,Jekyll,gh-pages,website,blog,easy,gsoc,evaluation"
categories: [GSoC]
tags: [Ruturaj, GSoC, Jekyll]
icon: fa-pen-alt
---

# **Rucio: Exascale Data Management**
I have been working on the Rucio project for the past 3 months as a part of GSoC 2019. Rucio is a data management system that provides the functionality to organize, manage and access a large amount of scientific data (in the order of petabytes) using customizable policies. Rucio also provides monitoring and data analytics.

<br>

## **Work completed as of now**
1. My first task was to create a Username/Password login authentication for the Rucio-WebUI.
The need was to add the userpass authentication alongside the default x509 authentication. This is because some organizations relied only on x509 authentication while some had username/password credentials. So depending upon the configuration specified in the config file, the desired auth type would be invoked.  
The [PR](https://github.com/rucio/rucio/pull/2615) for this task has been merged into the repository.
<br>

2. The next task was to create a Single Sign-On System for Rucio. Some users of Rucio already have a CERN account and so for them it would be convenient to create a SSO system which would authenticate the users based on their CERN account credentials. The challenge here was to use SAML with python for making requests to the CERN Auth Server. 
As of now, this task has been completed and the [PR](https://github.com/rucio/rucio/pull/2689) is set for a final review.
<br>

3. The final task is to create a collection following mechanism for the datasets. There are many operations that can affect a dataset or its rules and have an effect on its users. For eg. File loss, dataset erased, lifetime expiration and so on. The problem was that all these operations occur without notifying the users. So the idea was to create a following mechanism where users can *follow* a particular dataset. Now when any above-mentioned operation affects the dataset then the users will be notified about it by a daily email summarizing all the events.  
For this task the [PR](https://github.com/rucio/rucio/pull/2735) is under review.
<br>

## **Brief Overview of changes made to code**
1. Created a login screen for username/password and SSO authentication.
2. Used `webpy` as backend for the above tasks.
3. Added new Identity Type (SAML) and created APIs for getting the SAML auth token. 
4. Made SAML requests using `python3-saml` for SSO.
5. Added 2 new tables to the database:  
  a. DidsFollowed (To keep a track of the datasets followed and its users)  
  b. FollowEvents (To store the events affecting the datasets)  
6. Created a set of APIs for adding, listing and removing datasets from being followed.
7. Created a daemon (using threading) to aggregate all the events affecting the datasets, creating an autogenerated report of the status of the datasets followed by each user and mailing the report to the users thrice a day.
8. Added test cases.
<br>

## **Things Learnt**
During the duration of the project, I have learned a lot about how things work in an open source organization. I learnt to communicate with my mentors, what coding conventions to follow, some new version control techniques like rebasing. I will continue working on the tasks and communicate with the mentors to complete the project on time.