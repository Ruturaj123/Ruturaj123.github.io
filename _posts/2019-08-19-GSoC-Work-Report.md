---
layout: post
title:  "GSoC Work Report"
date:   2019-08-19
desc: "Project and implementation details"
keywords: "Ruturaj,Jekyll,gh-pages,website,blog,easy,gsoc,evaluation"
categories: [GSoC]
tags: [Ruturaj, GSoC, Jekyll]
icon: fa-pen-alt
---

<p align="center">
<img src="{{ "/static/assets/img/gsoc_rucio.png" | prepend: site.baseurl }}" />
</p> 

<br> 

<br> 

# **Rucio: Exascale Data Management**
I have been working on the Rucio project for the past 3 months as a part of GSoC 2019. Rucio is a data management system that provides the functionality to organize, manage and access a large amount of scientific data (in the order of petabytes) using customizable policies. Rucio also provides monitoring and data analytics.

<br>

## **1. Work completed as of now** ‚åõ
* My first task was to create a Username/Password login authentication for the Rucio-WebUI.
The need was to add the userpass authentication alongside the default x509 authentication. This is because some organizations relied only on x509 authentication while some had username/password credentials. So depending upon the configuration specified in the config file, the desired auth type would be invoked.  
The [**Pull Request**](https://github.com/rucio/rucio/pull/2615) for this task has been merged into the repository. ‚úîÔ∏è
<br>

* The next task was to create a Single Sign-On System for Rucio. Some users of Rucio already have a CERN account and so for them it would be convenient to create a SSO system which would authenticate the users based on their CERN account credentials. The challenge here was to use SAML with python for making requests to the CERN Auth Server. 
As of now, this task has been completed and the [**Pull Request**](https://github.com/rucio/rucio/pull/2689) is set for a final review. üîé
<br>

* The final task was to create a collection following mechanism for the datasets. There are many operations that can affect a dataset or its rules and have an effect on its users. For eg. File loss, dataset erased, lifetime expiration and so on. The problem was that all these operations occur without notifying the users. So the idea was to create a following mechanism where users can *follow* a particular dataset. Now when any above-mentioned operation affects the dataset, the users will be notified about it by a daily email summarizing all the events.  
For this task, the [**Pull Request**](https://github.com/rucio/rucio/pull/2735) is under review. üîé

<br>

## **2. An Overview of changes made to code** üë®‚Äçüîß

* Created a login screen for username/password and SSO authentication. 

* Used `webpy` as backend for the above tasks. 

* Added an option in config to choose between different authentication modes. 

* Added new Identity Type (SAML) and created APIs for getting the SAML auth token. 

* Made SAML requests using `python3-saml` for SSO. 

* Added 2 new tables to the database:  
  a. DidsFollowed (To keep a track of the datasets followed and its users)  
  b. FollowEvents (To store the events affecting the datasets)  

* Created a set of APIs for adding, listing and removing datasets from being followed. 

* Created a daemon (using threading) for doing the following tasks:  
  a. Aggregate all the events affecting the datasets.  
  b. Create an autogenerated report of the status of the datasets followed by each user. üìÑ  
  c. Mail the report to the users thrice a day. üì®  

* Added test cases. üíâ

<br>

## **3. Things Learnt** üß†
During the duration of the project, I have learned a lot about how things work in an open source organization. I learnt to communicate with my mentors, what coding conventions to follow, some new version control techniques like rebasing. 

Apart from this I learnt to use `webpy` micro-framework, polished my docker skills, wrote unit test cases and REST APIs. 

There were times when I got stuck at a particular problem and it seemed as if there is no way out, but with the help of such amazing mentors and proper research I learned how to tackle such a situation. The key is to never give up and keep working towards your goal. 

I would like to thank my mentors: **Martin Barisits**, **Mario Lassnig**, **Thomas Beerman** and **Cedric Serfon** for their constant guide and support. 

I will be happy to continue contributing more to the organization after GSoC too.